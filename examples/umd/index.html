<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>

    <link
      href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" class="style" />

    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="index.js"></script>
  </head>

  <body>
    <div id="root"></div>

    <script type="text/babel">
      console.log('InnovaccerDesignSystem', InnovaccerDesignSystem);
      const { Icon, GridCell, Table, Message, Menu, InlineMessage } = InnovaccerDesignSystem;

      const MyTable = () => {
        const data = [
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
          {
            firstName: 'Brooke',
            lastName: 'Heeran',
            email: 'bheeran0@altervista.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Frazer',
            lastName: 'Cathro',
            email: 'fcathro1@ucla.edu',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lemmie',
            lastName: 'Ciric',
            email: {
              title: 'lciric2@dmoz.org',
              metaList: ['First', 'Second'],
            },
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Randy',
            lastName: 'Boatwright',
            email: 'rboatwright3@arstechnica.com',
            status: 'Completed',
            gender: 'Male',
          },
          {
            firstName: 'Rolando',
            lastName: 'Cyples',
            email: 'rcyples4@biglobe.ne.jp',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Lem',
            lastName: 'Males',
            email: 'lmales5@admin.ch',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Sayres',
            lastName: 'Adelberg',
            email: 'sadelberg6@uol.com.br',
            gender: 'Male',
            status: 'Completed',
          },
          {
            firstName: 'Murray',
            lastName: 'Bravington',
            email: 'mbravington7@drupal.org',
            gender: 'Male',
            status: 'Failed',
          },
          {
            firstName: 'Jena',
            lastName: 'Swatheridge',
            email: 'jswatheridge8@npr.org',
            gender: 'Female',
            status: 'Failed',
          },
          {
            firstName: 'Annabel',
            lastName: 'Nelsey',
            email: 'anelsey9@google.com',
            gender: 'Female',
            status: 'Completed',
          },
        ];

        const schema = [
          {
            name: 'name',
            displayName: 'Name',
            width: '40%',
            resizable: true,
            separator: true,
            tooltip: true,
            translate: (a) => ({
              title: `${a.firstName} ${a.lastName}`,
              firstName: a.firstName,
              lastName: a.lastName,
            }),
            filters: [
              { label: 'A-G', value: 'a-g' },
              { label: 'H-R', value: 'h-r' },
              { label: 'S-Z', value: 's-z' },
            ],
            onFilterChange: (a, filters) => {
              for (const filter of filters) {
                switch (filter) {
                  case 'a-g':
                    if (a.firstName[0].toLowerCase() >= 'a' && a.firstName[0].toLowerCase() <= 'g') return true;
                    break;
                  case 'h-r':
                    if (a.firstName[0].toLowerCase() >= 'h' && a.firstName[0].toLowerCase() <= 'r') return true;
                    break;
                  case 's-z':
                    if (a.firstName[0].toLowerCase() >= 's' && a.firstName[0].toLowerCase() <= 'z') return true;
                    break;
                }
              }
              return false;
            },
            cellType: 'AVATAR_WITH_TEXT',
          },
          {
            name: 'email',
            displayName: 'Email',
            width: 350,
            resizable: true,
            sorting: false,
            cellType: 'WITH_META_LIST',
          },
          {
            name: 'gender',
            displayName: 'Gender',
            width: 200,
            resizable: true,
            comparator: (a, b) => a.gender.localeCompare(b.gender),
            cellType: 'STATUS_HINT',
            translate: (a) => ({
              title: a.gender,
              statusAppearance: a.gender === 'Female' ? 'alert' : 'success',
            }),
            filters: [
              { label: 'Male', value: 'male' },
              { label: 'Female', value: 'female' },
            ],
            onFilterChange: (a, filters) => {
              for (const filter of filters) {
                if (a.gender.toLowerCase() === filter) return true;
              }
              return false;
            },
          },
          {
            name: 'icon',
            displayName: 'Icon',
            width: 100,
            resizable: true,
            align: 'center',
            cellType: 'ICON',
            sorting: false,
            translate: (_) => ({
              icon: 'events',
            }),
          },
          {
            name: 'customCell',
            displayName: 'Custom Cell',
            width: 200,
            resizable: true,
            cellType: 'WITH_META_LIST',
            sorting: false,
            cellRenderer: (props) => {
              return (
                <>
                  <Icon className="mr-5" name="events" />
                  <GridCell
                    {...props}
                    schema={{
                      ...props.schema,
                      name: 'email',
                    }}
                  />
                </>
              );
            },
          },
        ];

        const [error, setError] = React.useState(false);

        const onDataExport = (data) => {
          console.log('Exporting data', data);
        };

        const globalActionTrigger = (data) => {
          return;
          // return <Button onClick={() => onDataExport(data)}>Export</Button>;
        };

        return (
          <div className="vh-75">
            <Table
              error={error}
              data={data}
              schema={schema}
              withHeader={true}
              uniqueColumnName="email"
              headerOptions={{
                withSearch: true,
                globalActionRenderer: globalActionTrigger,
                allowSelectAll: true,
              }}
              onSearch={(currData, searchTerm) => {
                console.log('onsearch called', searchTerm);
                setError(!error);
                return currData.filter(
                  (d) =>
                    d.firstName.toLowerCase().match(searchTerm.toLowerCase()) ||
                    d.lastName.toLowerCase().match(searchTerm.toLowerCase())
                );
              }}
              withCheckbox={true}
              onSelect={(rowIndex, selected, selectedList, selectAll) =>
                console.log(
                  `on-select:- rowIndex: ${rowIndex} selected: ${selected} selectedList: ${JSON.stringify(
                    selectedList
                  )} selectAll: ${selectAll}`
                )
              }
              withPagination={true}
              pageSize={50}
              onPageChange={(newPage) => console.log(`on-page-change:- ${newPage}`)}
            />
          </div>
        );
      };

      function MyApp() {
        return (
          <div className="p-8 vh-100 bg-secondary-lighter">
            <MyTable />
            <Message
              appearance="alert"
              className="w-50"
              description="Could not start verification. Please try again later."
            />
            <Menu trigger={<Menu.Trigger />}>
              <Menu.List>
                <Menu.Item>Edit</Menu.Item>
                <Menu.Item>Export</Menu.Item>
                <Menu.Item>Copy</Menu.Item>
              </Menu.List>
            </Menu>
            <InlineMessage appearance="alert" description="There are two new referral requests." />
          </div>
        );
      }

      const container = document.getElementById('root');

      ReactDOM.render(<MyApp />, container);
    </script>
    <!--
      Note: this page is a great way to try React but it's not suitable for production.
      It slowly compiles JSX with Babel in the browser and uses a large development build of React.

      Read this page for starting a new React project with JSX:
      https://react.dev/learn/start-a-new-react-project

      Read this page for adding React with JSX to an existing project:
      https://react.dev/learn/add-react-to-an-existing-project
    -->
  </body>
</html>
